@using WebUF.ViewModel

@model List<EstadoViewModel> 

@{
    ViewData["Title"] = "Estados do Brasil";
}


<div class="container my-5 text-center">

    @using (Html.BeginForm("ConsultaSigla", "Home", FormMethod.Post))
{
    <h2 class="mb-4">Lista de Estados</h2>
    <div class="table-responsive">
        <table class="table table-bordered table-striped mx-auto w-75">
            <thead class="table-dark">
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Sigla</th>
                    <th scope="col">Nome</th>
                    <th scope="col">Descrição</th>
                    <!-- Adicionado Descrição, pois está no ViewModel -->
                </tr>
            </thead>
            <tbody>
                <!-- INÍCIO DA RENDERIZAÇÃO RAZOR -->
                @if (Model != null)
                {
                    @foreach (var estado in Model)
                    {
                        <tr>
                            <th scope="row">@estado.Id</th>
                            <td>@estado.Sigla</td>
                            <td>@estado.Nome</td>
                            <td>@estado.Descricao</td>
                        </tr>
                    }
                }
                else
                {
                    <tr>
                        <td colspan="4">Nenhum estado encontrado ou erro ao carregar dados.</td>
                    </tr>
                }
                <!-- FIM DA RENDERIZAÇÃO RAZOR -->
            </tbody>
        </table>
    </div>
    <div class="mb-3 w-50 mx-auto">
            @Html.TextBox("sigla", null, new { @class = "form-control mb-2", placeholder = "Digite a sigla do estado (ex: SP)" })
        <button class="btn btn-primary w-100"  type="submit">Verificar Estado</button>
        <div id="resultadoVerificacao" class="mt-3"></div>
    </div>
}

</div>

